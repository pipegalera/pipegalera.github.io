<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://pipegalera.github.io name=base><title>
            
                Dockerizing a Python application
            
        </title><meta content="Dockerizing a Python application" property=og:title><meta content="Make your code deployable." property=og:description><meta content="Make your code deployable." name=description><link href=https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@fontsource/space-grotesk@4.5.8/index.min.css rel=stylesheet><script src=https://pipegalera.github.io/js/codeblock.js></script><script src=https://pipegalera.github.io/js/toc.js></script><script src=https://pipegalera.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://pipegalera.github.io/atom.xml rel=alternate title=~/.pipe_galera type=application/atom+xml><link href=https://pipegalera.github.io/theme/light.css rel=stylesheet><link href=https://pipegalera.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://pipegalera.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://pipegalera.github.io/main.css media=screen rel=stylesheet><script src="https://pipegalera.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://pipegalera.github.io>~/.pipe_galera</a><div class=socials><a class=social href=https://www.linkedin.com/in/pipegalera/ rel=me> <img alt=linkedin src=https://pipegalera.github.io/icons/social/linkedin.svg> </a><a class=social href=https://github.com/pipegalera/ rel=me> <img alt=github src=https://pipegalera.github.io/icons/social/github.svg> </a></div></div><nav><a href=https://pipegalera.github.io/posts style=margin-left:.25em>/posts</a><a href=https://pipegalera.github.io/mostly_books style=margin-left:.25em>/mostly_books</a><a href=https://pipegalera.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://pipegalera.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://pipegalera.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://pipegalera.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>Dockerizing a Python application<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2023-01-09</time> :: 976 Words <span class=tags-label>:: Tags:</span><span class=tags> <a class=post-tag href=https://pipegalera.github.io/tags/docker/>docker</a> , <a class=post-tag href=https://pipegalera.github.io/tags/python/>python</a> </span></div></div><div class=toc-container><h1 class=toc-title>Table of Contents</h1><ul class=toc-list><li><a href=https://pipegalera.github.io/posts/dockerizing-python-application/#servers-and-virtual-machines>Servers and Virtual machines</a><li><a href=https://pipegalera.github.io/posts/dockerizing-python-application/#basic-docker>Basic Docker</a><li><a href=https://pipegalera.github.io/posts/dockerizing-python-application/#practial-example-dockerizing-a-python-script>Practial example dockerizing a Python script</a><li><a href=https://pipegalera.github.io/posts/dockerizing-python-application/#local-deployment>Local deployment</a><li><a href=https://pipegalera.github.io/posts/dockerizing-python-application/#uses>Uses</a></ul></div><section class=body><p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/docker.webp><p>In very simple terms, Docker makes sure than an API, a Dashboard in Streamlit/Shiny, or a scheduled script can be reproducible.<p>It is a way to package your code - making it able to run it other hardware and systems.<h2 id=servers-and-virtual-machines><a aria-label="Anchor link for: servers-and-virtual-machines" class=zola-anchor href=#servers-and-virtual-machines>Servers and Virtual machines</a></h2><p>The goal of Docker is deploy code that you have had written somewhere else. This "somewhere else" is usually a server. In short, a server its a computer running in other place. Its always on running a Windows/Linux machine, automatically managed by the provider and usually have more resources than your local computer (e.g. 128 RAM/GPU Nvidia T4s) or the ability to scale if the workload requires it.<p>Instead of having 1 server running 1 operating system, computers can emulate more than one machine. Imagine a computer having multiple partitions of Linux, Windows, with different version, programs, and capacities. A server can have hundreds of versions or "virtual machines".<p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/virtual_machine.png><p>Imagine the "cloud" as different gigantic rooms somewhere around the world, with server racks with thousands of computers, running even more hundred of thousands virtual machines. The famous cloud providers (Google Cloud, AWS or Azure VMs) are simply renting you a small space in this gigantic room to store and run your code and software.<p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/server_center.png><p>Now that we tour from computer, to server, to virtual machines, to cloud providers... How this relates to Docker?<h2 id=basic-docker><a aria-label="Anchor link for: basic-docker" class=zola-anchor href=#basic-docker>Basic Docker</a></h2><p>The Docker program makes sure that you can run your code/app/dashboard in a virtual machine in the cloud, without need of your local configurations, with everyone having access to the same configuration.<p>It compartmentalize your code and requirements in chucks. These "chunks" or containers keep everything its needed for the code to be run.<p>The basic structure of Docker is:<ol><li><strong>Docker containers</strong>: these independent chunks with everything needed to run your code. From the OS, to packages, to the Dashboard or app. Everything is there, organized, and ready to be run.<li><strong>Docker images</strong>: a container is run based on images layered on top of each other. One image is the OS (e.g. Windows), another Python, another the packages (e.g. Streamlit, sklearn).<li><strong>Docker files</strong>: A blueprint for the images. The files that specify how the images must be layered and build. For example, you want the OS to be built before the image of Python, and Python to be built before installing sklearn.</ol><p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/docker-progression.png><p>In summary, you use dockerfiles to build images, that are the parts or the final container that can be deployed.<h2 id=practial-example-dockerizing-a-python-script><a aria-label="Anchor link for: practial-example-dockerizing-a-python-script" class=zola-anchor href=#practial-example-dockerizing-a-python-script>Practial example dockerizing a Python script</a></h2><p>Dockerizing a script allows to deploy it. Docker handles the packing, deploying, and running of applications.<p>This is an example on how to dockerize a basic python script that show the first 5 rows of the iris dataset. The output is basic, but it can be easily a Dashboard, a statistical analysis that needs to be replicable for auditing, or a trained pickle output of a model + API. The important here is not what to deploy but how to do it.<p>First, make sure that you have installed correctly installed Docker for your machine following the <a href=https://docs.docker.com/desktop/install/>Docker documentation</a> .<p>The instructions of the container must be written in the dockerfile. Here we build a basic container by writing the following instructions or Dockerfile:<p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/dockerfile.png><p>Below I'll explain the meaning of the different commands.<ul><li>Every new space in between commands (<code>FROM</code>, <code>COPY</code>, <code>RUN</code>...) is an instruction to create a new image on top of the starting image of python 3.8.<li>In <code>FROM python:3.8</code> we say to Docker to build an staring image with python 3.8.</ul><p>This is one of the pre-installed images that Docker has. There are more pre-installed images with everything you might need, from slim operating systems to full-packed data science environments. For us, we only need a basic python 3.8 environment image.<p>In <code>COPY requirements.txt ./</code> we tell Docker to copy the requirements. This requirements are the list of packages that we need for the script. In this case only <code>seaborn</code>:<p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/requirements.png><ul><li>We install them running <code>RUN pip install --no-cache-dir -r requirements.txt</code>.<li><code>COPY python_script.py /</code> copy the script the code that we want to run into the docker container. The script is just displaying the first 5 rows of the iris dataset:</ul><p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/python_script.png><ul><li>The last line of the Dockerfile, <code>ENTRYPOINT</code> is the final image layered that say to Docker what to do when someone access this Docker image: run python, and the python script.</ul><p>Done! We have al the instructions in our <code>Dockfile</code> to be able to build <code>python_script.py</code> into a container.<h2 id=local-deployment><a aria-label="Anchor link for: local-deployment" class=zola-anchor href=#local-deployment>Local deployment</a></h2><p>Let's build a docker and call or tag it <code>simple_python_app</code> by a command line:<p><code>docker build -t simple_python_app .</code><p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/build.png><p>It should create the docker quite fast and without errors if Docker is installed correctly in your machine.<p>Checking if the image is created can be done by running: <code>docker image list</code><p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/list.png><p>Once we know is there, we can run the Docker image by <code>docker run</code>:<p><img alt src=https://pipegalera.github.io/posts/dockerizing-python-application/./images/iris_head.png><p>Et voilà, the docker run the code, compartmentalized.<h2 id=uses><a aria-label="Anchor link for: uses" class=zola-anchor href=#uses>Uses</a></h2><p>Why should I care or how can I use this in DS?<ul><li><strong>Bundling a DS app into production</strong> (e.g. Streamlit/Shiny Dashboard). The script, requirements and dockerfile can be send to the engineering team in your organization and can it be hosted in the company server.<li><strong>Scale</strong>. Let's say that your code is a gigantic neural network that your local computers cannot handle. You can train the NN in a virtual machine with an expensive GPU, instead of having to buy one.<li><strong>Parallelize</strong>. You can build an API that receives a lot of requests (an predictive ML system for example) so you can create many many many containers with the same image, and users can access different containers.</ul></section></article></main><div class=giscus></div><script async crossorigin issue-term=pathname repo=YOUR_NAME/YOUR_REPO src=https://utteranc.es/client.js theme=github-light></script><footer><div class=footer-content><p>100% human written content by Pipe Galera © 2025. Theme: <a href=https://github.com/not-matthias/apollo>Apollo</a>.</div></footer></div>